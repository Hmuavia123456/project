import json

filename = "students.json"

try:
    with open(filename, "r") as file:
        students = json.load(file)
except:
    students = [
        {"name": "Hassan", "roll": 100, "class": "10th", "marks": 88},
        {"name": "Ali", "roll": 200, "class": "9th", "marks": 76},
        {"name": "Khatam", "roll": 300, "class": "10th", "marks": 92}
    ]

new_student = {"name": "Amina", "roll": 500, "class": "9th", "marks": 88}
students.append(new_student)

print("All Students:")
for student in students:
    print(student)

print("Searching Roll 300:")
for student in students:
    if student['roll'] == 300:
        print(student)

for student in students:
    if student['roll'] == 200:
        student['name'] = "Ali Raza"
        student['marks'] = 95

students = [s for s in students if s['roll'] != 100]

print("Final List:")
for student in students:
    print(student)

with open(filename, "w") as file:
    json.dump(students, file, indent=4)

print("Data saved.")
